{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../logic-components/services/TransporterService\";\nfunction TransporterListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\")(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function TransporterListComponent_div_2_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const transporter_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.updateTransporter(transporter_r2));\n    });\n    i0.ɵɵtext(9, \"Update\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const transporter_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"ID: \", transporter_r2.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Name: \", transporter_r2.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Company: \", transporter_r2.company, \"\");\n  }\n}\nexport class TransporterListComponent {\n  constructor(transporterService) {\n    this.transporterService = transporterService;\n    this.transporters = [];\n  }\n  ngOnInit() {\n    this.transporterService.getTransporters().subscribe(data => {\n      this.transporters = data;\n    }, error => {\n      console.error('Error fetching transporters', error);\n    });\n  }\n  updateTransporter(transporter) {\n    this.transporterService.updateTransporter(transporter).subscribe(updatedTransporter => {\n      // Actualización exitosa, puedes manejar la respuesta como lo necesites\n      console.log('Transporter updated:', updatedTransporter);\n    }, error => {\n      console.error('Error updating transporter', error);\n    });\n  }\n  openEditModal(transporterId) {\n    // Llama al servicio para obtener los detalles del transportista\n    this.transporterService.getTransporterDetails(transporterId).subscribe(transporter => {\n      // Abre el modal con los detalles del transportista para edición\n      const modalRef = this.modalService.open(TransporterEditModalComponent, {\n        size: 'lg'\n      });\n      modalRef.componentInstance.transporter = transporter;\n    });\n  }\n  static #_ = this.ɵfac = function TransporterListComponent_Factory(t) {\n    return new (t || TransporterListComponent)(i0.ɵɵdirectiveInject(i1.TransporterService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TransporterListComponent,\n    selectors: [[\"app-transporter-list\"]],\n    decls: 30,\n    vars: 3,\n    consts: [[4, \"ngFor\", \"ngForOf\"], [\"id\", \"editTransporterModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [\"transporterForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"company\"], [\"type\", \"text\", \"id\", \"company\", \"name\", \"company\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [3, \"click\"]],\n    template: function TransporterListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"Lista de transportistas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, TransporterListComponent_div_2_Template, 10, 3, \"div\", 0);\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4)(7, \"h5\", 5);\n        i0.ɵɵtext(8, \"Editar Transportista\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 6)(10, \"span\", 7);\n        i0.ɵɵtext(11, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"div\", 8)(13, \"form\", 9, 10);\n        i0.ɵɵlistener(\"ngSubmit\", function TransporterListComponent_Template_form_ngSubmit_13_listener() {\n          return ctx.openEditModal();\n        });\n        i0.ɵɵelementStart(15, \"div\", 11)(16, \"label\", 12);\n        i0.ɵɵtext(17, \"Nombre:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function TransporterListComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.transporter.name = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 11)(20, \"label\", 14);\n        i0.ɵɵtext(21, \"Empresa:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function TransporterListComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.transporter.company = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"button\", 16);\n        i0.ɵɵtext(24, \"Agregar\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(25, \"div\", 17)(26, \"button\", 18);\n        i0.ɵɵtext(27, \"Cerrar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"button\", 19);\n        i0.ɵɵtext(29, \"Guardar Cambios\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.transporters);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngModel\", ctx.transporter.name);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.transporter.company);\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","TransporterListComponent_div_2_Template_button_click_8_listener","restoredCtx","ɵɵrestoreView","_r4","transporter_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","updateTransporter","ɵɵadvance","ɵɵtextInterpolate1","id","name","company","TransporterListComponent","constructor","transporterService","transporters","ngOnInit","getTransporters","subscribe","data","error","console","transporter","updatedTransporter","log","openEditModal","transporterId","getTransporterDetails","modalRef","modalService","open","TransporterEditModalComponent","size","componentInstance","_","ɵɵdirectiveInject","i1","TransporterService","_2","selectors","decls","vars","consts","template","TransporterListComponent_Template","rf","ctx","ɵɵtemplate","TransporterListComponent_div_2_Template","TransporterListComponent_Template_form_ngSubmit_13_listener","TransporterListComponent_Template_input_ngModelChange_18_listener","$event","TransporterListComponent_Template_input_ngModelChange_22_listener","ɵɵproperty"],"sources":["/Users/olmansantamaria/IdeaProjects/Patrones-Proyecto/front/laca/src/app/ui-components/transporter-list/transporter-list.component.ts","/Users/olmansantamaria/IdeaProjects/Patrones-Proyecto/front/laca/src/app/ui-components/transporter-list/transporter-list.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {TransporterService} from \"../../logic-components/services/TransporterService\";\nimport {Transporter} from \"../../logic-components/classes/Transporter\";\n\n@Component({\n  selector: 'app-transporter-list',\n  templateUrl: './transporter-list.component.html',\n  styleUrls: ['./transporter-list.component.css']\n})\nexport class TransporterListComponent implements OnInit {\n  transporters: Transporter[] = [];\n\n  constructor(private transporterService: TransporterService) {}\n\n  ngOnInit() {\n    this.transporterService.getTransporters().subscribe(\n      (data) => {\n        this.transporters = data;\n      },\n      (error) => {\n        console.error('Error fetching transporters', error);\n      }\n    );\n  }\n\n  updateTransporter(transporter: Transporter) {\n    this.transporterService.updateTransporter(transporter).subscribe(\n      (updatedTransporter) => {\n        // Actualización exitosa, puedes manejar la respuesta como lo necesites\n        console.log('Transporter updated:', updatedTransporter);\n      },\n      (error) => {\n        console.error('Error updating transporter', error);\n      }\n    );\n  }\n\n  openEditModal(transporterId: number) {\n    // Llama al servicio para obtener los detalles del transportista\n    this.transporterService.getTransporterDetails(transporterId).subscribe((transporter: any) => {\n      // Abre el modal con los detalles del transportista para edición\n      const modalRef = this.modalService.open(TransporterEditModalComponent, { size: 'lg' });\n      modalRef.componentInstance.transporter = transporter;\n    });\n  }\n\n}\n\n","<p>Lista de transportistas</p>\n\n<div *ngFor=\"let transporter of transporters\">\n  <div>\n    <p>ID: {{ transporter.id }}</p>\n    <p>Name: {{ transporter.name }}</p>\n    <p>Company: {{ transporter.company }}</p>\n    <button (click)=\"updateTransporter(transporter)\">Update</button>\n  </div>\n</div>\n\n\n<div class=\"modal fade\" id=\"editTransporterModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\">Editar Transportista</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <form (ngSubmit)=\"openEditModal()\" #transporterForm=\"ngForm\">\n          <div class=\"form-group\">\n            <label for=\"name\">Nombre:</label>\n            <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"transporter.name\" required>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"company\">Empresa:</label>\n            <input type=\"text\" id=\"company\" name=\"company\" [(ngModel)]=\"transporter.company\" required>\n          </div>\n          <button type=\"submit\">Agregar</button>\n        </form>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\n        <button type=\"submit\" class=\"btn btn-primary\">Guardar Cambios</button>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}